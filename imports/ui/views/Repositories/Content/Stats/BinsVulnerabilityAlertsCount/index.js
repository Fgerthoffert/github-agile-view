import React, { Component } from 'react';
import PropTypes from 'prop-types';

import CustomCard from '../../../../../components/CustomCard/index.js';
import StatsBinBar from '../../../../../components/Charts/Highcharts/StatsBinBarRepositories.js';
import { connect } from 'react-redux';

class BinsVulnerabilityAlertsCount extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    const { statsVulnerabilityAlertsCount } = this.props;
    return (
      <CustomCard
        headerTitle='VulnerabilityAlerts Count'
        headerFactTitle=''
        headerFactValue=''
        headerLegend='Number of VulnerabilityAlertss'
      >
        {statsVulnerabilityAlertsCount.length > 0 ? (
          <StatsBinBar dataset={statsVulnerabilityAlertsCount} />
        ) : (
          <span>No data available</span>
        )}
      </CustomCard>
    );
  }
}

BinsVulnerabilityAlertsCount.propTypes = {
  statsVulnerabilityAlertsCount: PropTypes.array.isRequired
};

const mapState = state => ({
  statsVulnerabilityAlertsCount:
    state.repositoriesView.statsVulnerabilityAlertsCount
});

export default connect(
  mapState,
  null
)(BinsVulnerabilityAlertsCount);
